{%- import "icons.j2" as icons -%}
{% extends "layout/authed.j2" %}
{% block title %}{{title}}{% endblock %}
{% block content %}
<div id="content" class="px-6">
  <form class="mx-auto">
    <div class="space-y-12">
      <div class="pb-12">
        <div class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">

          <div class="sm:col-span-4">
            <label for="alias" class="block text-sm font-medium leading-6 text-white">Alias</label>
            <div class="mt-2">
              <div class="flex rounded-md bg-white/5 ring-1 ring-inset ring-white/10 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500">
                <span class="flex select-none items-center pl-3 text-gray-500 sm:text-sm">{{instance.alias.as_deref().unwrap_or("-")}}</span>
                <input type="text" name="alias" id="alias" class="flex-1 border-0 bg-transparent py-1.5 pl-1 text-white focus:ring-0 sm:text-sm sm:leading-6">
              </div>
            </div>
          </div>
        
          <div class="sm:col-span-4">
              <label for="brand" class="block text-sm font-medium leading-6 text-white">Brand</label>
              <div class="mt-2">
                <div class="flex rounded-md bg-white/5 ring-1 ring-inset ring-white/10 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500">
                  <span class="flex select-none items-center pl-3 text-gray-500 sm:text-sm">{{instance.brand}}</span>
                  <input type="text" name="brand" id="brand" class="flex-1 border-0 bg-transparent py-1.5 pl-1 text-white focus:ring-0 sm:text-sm sm:leading-6">
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
    <div class="mt-6 flex items-center justify-end gap-x-6">
      {{ instance.state }}
      {% if instance.state == "running" %}
        <button
          data-hx-post="/instances/{{instance.uuid}}/stop"
          data-hx-target="#main"
          data-hx-select="#content"
          data-hx-confirm="Are you sure you want to stop this instance?"
          title="Start this instance"
          type="submit"
          class="btn btn-amber">
          {% call icons::stop_circle("h-6 w-6 inline") %}
          <span class="align-middle">Stop Instance</span>
        </button>
      {% else %}
        <button
          data-hx-post="/instances/{{instance.uuid}}/start"
          data-hx-target="#main"
          data-hx-select="#content"
          title="Start this instance"
          type="submit"
          class="btn btn-primary">
          {% call icons::play_circle("h-6 w-6 inline") %}
          <span class="align-middle">Start Instance</span>
        </button>
      {% endif %}
      <button
        data-hx-delete="/instances/{{instance.uuid}}"
        data-hx-target="#main"
        data-hx-select="#content"
        data-hx-confirm="Are you sure you want to delete this instance?"
        title="Delete this instance"
        type="submit"
        class="btn btn-warn">
        {% call icons::trash("h-6 w-6 inline") %}
        <span class="align-middle">Delete Instance</span>
      </button>
    </div>
  </form>
</div>
{% endblock %}